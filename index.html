<!DOCTYPE html>
<html>
<head>
    <base target="_top">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Cliente - F&B</title>
    <meta name="theme-color" content="#FFFFFF">
    <link rel="apple-touch-icon" sizes="180x180" href="https://i.postimg.cc/rmDMXYHr/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://i.postimg.cc/JnsMVdFJ/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://i.postimg.cc/FRYN5n6S/favicon-16x16.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="white">

    <style>
        /* === Reset e base === */
        * { box-sizing: border-box; }
        html, body {
            margin: 0;
            padding: 0;
            height: 100%; /* Essencial para o flex-grow funcionar */
            width: 100%;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden; 
            background-color: #D9D9D9; 
        }

        /* === SPLASH SCREEN (Centralizado) === */
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            background-color: #ffffff;
            z-index: 9999;
            display: flex; /* Centralização com flex */
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease-out;
            opacity: 1;
        }
        #splash-screen img {
            max-width: 250px;
            width: 80%;
            height: auto;
        }
        #splash-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* * === CORREÇÃO DE LAYOUT (Flexbox Robusto) ===
         */
        .app-container {
            visibility: hidden; /* Começa invisível */
            height: 100%; /* Ocupa 100% da altura do body */
            width: 100%;
            display: flex; /* Força o layout flex */
            flex-direction: column; /* Organiza os filhos (o iframe) verticalmente */
        }
        
        #splash-screen.hidden + .app-container {
            visibility: visible;
        }
        
        /* * O Iframe agora é um item flexível e vai crescer
         */
        #appFrame {
            flex: 1; /* Mágica: (flex-grow: 1, flex-shrink: 1, flex-basis: 0) */
            width: 100%;
            border: none;
            /* height: 100% foi removido pois 'flex: 1' é melhor */
        }
    </style>
</head>

<body>

    <div id="splash-screen">
        <img src="https://i.postimg.cc/RF8h0M0M/logo-horizontal.jpg" alt="Logo Ferreira & Brito">
    </div>

    <div class="app-container">
        <iframe id="appFrame" title="Painel do Cliente"></iframe>
    </div>
        
    <script>
        const APP_URL = "https://script.google.com/macros/s/AKfycbxKLrGyELjMQDk8NHMa6yXazObTLJnXhGUag0H_JQ_YgSY6PWp3sULKC-4Ypvz9Jl_L0Q/exec";

        document.addEventListener("DOMContentLoaded", () => {
            
            // 1. Define o app a ser carregado (atrás do splash)
            const iframe = document.getElementById('appFrame');
            iframe.src = APP_URL;

            // 2. Lógica do Splash Screen
            const splash = document.getElementById('splash-screen');
            const splashDuration = 4000; // 4 segundos

            setTimeout(() => {
                splash.classList.add('hidden');
                
                setTimeout(() => {
                    splash.style.display = 'none';
                }, 500); // 500ms é a duração da transição no CSS

            }, splashDuration);

        });
    </script>

</body>
</html>
